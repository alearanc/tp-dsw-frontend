<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col sizeMd="4" size="12">
        <form [formGroup]="inmuebleForm" (ngSubmit)="saveInmueble()">
          <h3>Crear cuenta</h3>
          <ion-item lines="none">
            <ion-label>Tipo de Inmueble</ion-label>
            <ion-select [value]="inmuebleSeleccionado?.tipo_inmueble?.id_tipoinmueble" interface="popover" mode="ios"
              formControlName="tipo_inmueble">
              @for(tipo of tipoInmuebles; track tipo.id_tipoinmueble){
              <ion-select-option [value]="tipo.id_tipoinmueble">{{tipo.descripcion}}</ion-select-option>
              }
            </ion-select>
          </ion-item>
      
          <ion-item lines="none">
            <ion-input type="text" labelPlacement="floating" label="Título del inmueble" mode="ios"
              formControlName="titulo_inmueble"></ion-input>
          </ion-item>
      
          <ion-item lines="none">
            <ion-input type="text" labelPlacement="floating" label="Descripción del Inmueble" mode="ios"
              formControlName="descripcion_inmueble"></ion-input>
          </ion-item>
      
          <ion-item lines="none">
            <ion-input type="number" labelPlacement="floating" label="Precio por noche" mode="ios"
              formControlName="precio_noche"></ion-input>
          </ion-item>
      
          <ion-item lines="none">
            <ion-label>Localidad</ion-label>
            <ion-select [value]="inmuebleSeleccionado?.localidad?.cod_postal" interface="popover" mode="ios"
              formControlName="localidad">
              @for(localidad of localidades; track localidad.cod_postal){
              <ion-select-option [value]="localidad.cod_postal">{{localidad.nombre}}</ion-select-option>
              }
            </ion-select>
          </ion-item>
      
          <ion-item lines="none">
            <ion-input type="text" labelPlacement="floating" label="Dirección del inmueble" mode="ios"
              formControlName="direccion_inmueble"></ion-input>
          </ion-item>
      
          <ion-item lines="none">
            <ion-input type="number" labelPlacement="floating" label="Capacidad de personas" mode="ios"
              formControlName="capacidad"></ion-input>
          </ion-item>
      
          <ion-button type="submit" expand="full" mode="ios" [disabled]="!inmuebleForm.dirty || !inmuebleForm.valid">
            {{inmuebleSeleccionado ? 'Guardar inmueble' : 'Crear inmueble'}}
            <ion-icon slot="end" [name]="!inmuebleSeleccionado ? 'add': 'save'"></ion-icon>
          </ion-button>
      
        </form>
      </ion-col>
      <ion-col sizeMd="4" size="12">
        <h3>Servicios e imágenes</h3>
        Acá van los componentes vp y fotos
      </ion-col>
      <ion-col sizeMd="4" size="12">
        <h3>Vista previa</h3>
        <app-resultado-inmueble [inmuebleActual]="inmuebleForm.value" [showDescripcion]="true"></app-resultado-inmueble>
      </ion-col>
</ion-row>
</ion-grid>
</ion-content>